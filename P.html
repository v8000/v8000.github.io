<html>

<head>
<meta http-equiv="Content-Language" content="zh-cn">
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">

<meta HTTP-EQUIV="pragma" CONTENT="no-cache">
<meta HTTP-EQUIV="Cache-Control" CONTENT="no-cache, must-revalidate">
<meta HTTP-EQUIV="expires" CONTENT="0">

<title>我爱学习2016-2017</title>



<script LANGUAGE="javascript">

var c60=0;
var t60;

var c80=0;
var t80;

var newchech=0;
var arrlength=0;
var arrlength9=0;
var txtarr = "";
var txtEnd = "";
var pinyin2 = "";
var xiefa2 = "";
var cizu2 = "";

var ziselect = "";

var timesget = 0;
var TimeEnd = 0;
var s60 = "　";

var sn   = 0;
var positon2 = 0;
var calculateCount60=0;
var calculateCount80=0;

var ooo=0;
var qtotal=0;

//alert("开始");


//if ( newchech==0 )
//{
//    document.getElementById("hanzi").value = "  Ready ……";
//}



//放在外面，其他调用
var arrquestions = new Array();
var arrhis = new Array();
var arrrest = new Array();

var arrpinyin = new Array();
var arrcizu = new Array();
var arrpic = new Array();

// 初始化1
function InitialQuestions1() 
{
    //alert("初始化");
    arrquestions.splice(0,arrquestions.length);//清空数组 
    arrquestions.splice(0,arrpinyin.length);//清空数组 
    arrquestions.splice(0,arrpic.length);//清空数组 

    // 001 -------------------------------------------------------------
    arrquestions.push("沙");
    arrquestions.push("鸭");
    arrquestions.push("鹅");
    arrquestions.push("珍");

    arrquestions.push("他");
    arrquestions.push("画");
    arrquestions.push("比");
    arrquestions.push("当");
    arrquestions.push("用");
    arrquestions.push("后");
    arrquestions.push("书");


    // 002 -------------------------------------------------------------
    arrcizu.push("");
    arrcizu.push("鸭子<br>小鸭<br>鸭蛋<br>野鸭<br>鸭舌<br>烤鸭");
    arrcizu.push("天鹅<br>鹅黄<br>鹅毛大雪<br>企鹅<br>");
    arrcizu.push("珍珠<br>珍宝<br>珍爱<br>珍品<br>珍惜");
    arrcizu.push("");
    arrcizu.push("");
    arrcizu.push("");
    arrcizu.push("");
    arrcizu.push("");
    arrcizu.push("");
    arrcizu.push("");


    // 003 -------------------------------------------------------------
    arrpinyin.push("shā");
    arrpinyin.push("yā");
    arrpinyin.push("é");
    arrpinyin.push("zhēn");
    arrpinyin.push("tā");
    arrpinyin.push("huà");
    arrpinyin.push("bǐ");
    arrpinyin.push("dàng");
    arrpinyin.push("yòng");
    arrpinyin.push("hòu");
    arrpinyin.push("shū");


    // 004 -------------------------------------------------------------
    arrpic.push("pic/sha001.gif");
    arrpic.push("pic/ya001.gif");
    arrpic.push("pic/e001.gif");
    arrpic.push("pic/zhen001.gif");
    arrpic.push("pic/ta001.gif");
    arrpic.push("pic/hua001.gif");
    arrpic.push("pic/bi001.gif");
    arrpic.push("pic/dang001.gif");
    arrpic.push("pic/yong001.gif");
    arrpic.push("pic/hou001.gif");
    arrpic.push("pic/shu001.gif");

}




//
function ChoosingQuestions() 
{
    //alert("Choosing");
    if (newchech==0)          //( newchech = 0 )   alert(newchech = 0);
    {
        InitialQuestions1();
        qtotal = arrquestions.length;
        document.getElementById("ctotal").innerText = "本测试，一共 " + qtotal + " 题。"; 

        arrrest = []
        arrrest.length = 0;  // 其它语言如Java，其数组的length是只读的，不能被赋值。Java中会报错
        arrrest.splice(0,arrrest.length);//清空数组 
        Array.prototype.push.apply(arrrest, arrquestions);  // 后面 的 插入 到前面 的
        //alert("arrrest.length=");
        //alert( arrrest.length );
        //console.log(arrrest);

        newchech = 1;
        ooo++;
    }

    arrlength9 = arrquestions.length;
    arrlength=arrrest.length;
    //alert(arrlength);

    txtarr = "";
    while( arrlength > 0 ) {                  // while(1)
        //sn   = Math.floor(Math.random()*arrrest.length);
        //sn   = Math.ceil(Math.random()*(arrlength-1));
        sn   = Math.floor(Math.random()*arrlength);

        if ( sn<arrlength )   // and &&  or    || arrlength==0 
        {
            //alert("选中的sn：");
            //alert(sn);

            txtarr = arrrest[sn];
            //positon2 = 1; //Arrays.binarySearch(arrquestions, txtarr); 
            //positon2 = IndexOf(txtarr);     // lastIndexOf(searchvalue,fromindex)

            positon2 = 0;
            for (var ii=0; ii<arrquestions.length; ii++)
            {
                if ( arrquestions[ii] == txtarr )
                {
                    positon2 = ii;
                    break;
                }
            }

//alert(positon2);
            arrrest.splice(sn,1);    // splice参数中第一个, 是起始索引(从0算起);   第二个,是删除元素的个数,在此只删除一个元素
            break;
        }
    }

    //alert("已选：");
    //alert(sn);
}




//
function GetPositon() 
{
    for(var i=0;i<arrquestions.length;i++)
   {

        if(arrquestions[i].indexOf(txtarr) >= 0){

            locationArr.push(i);

        }

    }

}






//
function ShowQuestions() 
{

//imgChange()

    if(c60==0){
        begin60();
        begin80();
    }


    //alert("Show");
    ChoosingQuestions();

    if ( arrlength9 == 0 )
    {
        txtEnd = "  没有数据！";
        clearTimeout(t);  // 停止 计时
    }

    else if ( arrlength>0 )
    {
        if ( TimeEnd == 0 )
        {
            calculateCount60++;
        }
        calculateCount80++;
        pinyin2 = arrpinyin[positon2]; 
        cizu2  = arrcizu[positon2]; 
        xiefa2  = arrpic[positon2]; 
        txtEnd  = "";
        txtEnd  = "" + txtarr   // + " ；数组序号：" + sn + "数组总长=?" + arrlength + "；timesget=" + timesget+ "；arrhis.length=" + arrhis.length;
    }

    else
    {
        pinyin2 = "全部";
        xiefa2  = "pic/pictemp.jpg"; 
        txtEnd  = "完成";   //txtEnd = txtarr + "  全部完成!";
        cizu2   = "";
        newchech = 0;     // 重新 再来
        //clearTimeout(t);  // 停止 计时
        //txtEnd = "over! " + txtarr  + " ；数组序号：" + sn + "数组总长=?" + arrlength + "；timesget=" + timesget+ "；arrhis.length=" + arrhis.length;
    }

    document.getElementById("hanzi").innerHTML  = txtEnd; 
    document.getElementById("pinyin").innerText = pinyin2; 
    document.getElementById("cizu").innerHTML = cizu2; 
    document.getElementById("xiefa").src = xiefa2; 

    document.getElementById("calculateCount60").innerText = calculateCount60; 
    document.getElementById("calculateCount80").innerText = calculateCount80; 
    document.getElementById("cooo").innerText = "，第" + ooo + "轮"; 


    if ( arrlength>0 && TimeEnd == 0  && c60>=60*10 )
    {
        TimeEnd = 1;
        txtEnd = txtarr + "，时间到!";
        clearTimeout(t60);    // 停止 计时
        //c60=0; 
        //calculateCount60=0;   // 停止 计数
        document.getElementById("hanzi").innerText = txtEnd; 
        document.getElementById("cizu").innerText = ""; 
        document.getElementById("pinyin").innerText = ""; 
        document.getElementById("xiefa").src = "pic/pictemp.jpg"; 

        document.getElementById('timer60').innerText = 60*10;   // 置为60s
        s60 = "本次成绩：" + calculateCount60 + "题/10分钟" ;
        //document.getElementById("s60").innerText = s60;       // value

    }
    document.getElementById("s60").innerText = s60;       // value
    //alert(arrrest[1]);

}


// 
function ShwoSelect() 
{ 
    ShowQuestions();
    ziselect = document.getElementById("hanzi").innerText;
    document.getElementById("showSelect").innerHTML  = ziselect; 

}







// 
function answerX() 
{ 
    document.getElementById("hanzi").innerText = num1+"+"+num2+"  ="+(num1+num2); 
}


function imgChange() 
{ 
    var urlpic = "pic/sha001.gif";
    document.getElementById("xiefa").src = urlpic; 
}



// 
function begin60()
{
    document.getElementById('timer60').innerText=c60;
    c60=c60+1;
    t60=setTimeout("begin60()",1000);
}


function begin80()
{
    document.getElementById('timer80').innerText=c80;
    c80=c80+1;
    t80=setTimeout("begin80()",1000);
}





//
function end()
{
    clearTimeout(t60);    // 停止 计时
    c60=0;

    clearTimeout(t80);    // 停止 计时
    c80=0;

    calculateCount60=0;   // 停止 计数
    calculateCount80=0;   // 停止 计数

    newchech = 0;
    ooo = 0;

    TimeEnd = 0;        // 60s 重置

    s60 = "　";

    document.getElementById("hanzi").innerText = "  ";
    document.getElementById("cizu").innerText = "  "; 
    document.getElementById("pinyin").innerText = "  ";
    document.getElementById("xiefa").src = "pic/pictemp.jpg"; 


    //document.getElementById("s60").innerText = "  .";
    //document.getElementById("s60").value = "  .";


    // 清空 hisQuestions  InitialQuestions1();
	 
    //document.getElementById('timer60').innerText=0;
 
    //document.getElementById('calculateCount60').innerText=c;
 }


//-->
</script>



</head>


<body style="background-color:#EAEAEA;">

<form>

  <table style="width:960;">
    <tr>
      <td align=left style="font-size:60px" >
          <a href="index.html" style="font-size:65px;">【回首页】</a>
          汉字写法
	</td>
    </tr>
  </table>





  <table style="width:960;">
          <tr> 
             <td colspan=4>　</td>
          </tr> 



          <tr height="480"> 
             <td width="280" height="480">
                 <p align="center">
                     <lable style="font-size:78px;" id="pinyin">　</lable> 
                     <br>
                     <lable style="font-size:78px;" id="hanzi">　</lable> 
                 </p>
             </td>


             <td width="1" height="480" align="center">
                 <p align="center">
                     <img id="pic450" src="pic/pic450.jpg" width="1" height="480"  align="left" />
                 </p>
             </td>

             <td width="400" height="480" align="center">
                 <p align="center">
                     <img id="xiefa" src="pic/pictemp.jpg" width="360" height="360"  />
                 </p>
             </td>

             <td width="280"  height="480">
                 <p align="center">
                     <lable style="font-size:58px;" id="cizu">　</lable> 
                 </p>
             </td>

          </tr> 



          <tr> 
             <td colspan=4>　<lable onclick="ShwoSelect();" style="font-size:78px;" id="hanzix">字　</lable>  </td>
          </tr> 


          <tr> 
             <td colspan=4>　</td>
          </tr> 
          <tr> 
             <td colspan=4>　</td>
          </tr> 

          <tr style="display:none;"> 
                <td colspan=4> 
                    <font size="50" color="purple">
                        <lable style="font-size:68px;" id="s60">　</lable> 
                    </font> 
                </td>
          </tr>




          <tr style="display:none;"> 
             <td color="purple" colspan=4>
                 <input value="结束/重来" type="button" style="font-size:70px; width:960; height:100;; background-color:#B56037"  onclick="end();">
             </td>
          </tr> 

          <tr> 
             <td colspan=4>　</td>
          </tr> 


          <tr style="display:none;"> 
            <td colspan=4>
              <table>
               <tr>
                <td style="width:430;">
                    <font size="18" color="black">
                        时间：<lable id="timer60">0</lable>
                    </font> 
                </td>

                <td> 
                    <font size="18" color="black">
                        总时间：<lable id="timer80">0</lable>
                    </font> 
                </td>
               </tr>
              </table>
            </td>
          </tr>

          <tr style="display:none;"> 
            <td colspan=4>
              <table>
               <tr>
                <td style="width:430;font-weight:bold;">
                    <font size="18" color="#800080">
                        题数：<lable id="calculateCount60">0</lable> 
                    </font> 
                </td>

                <td>
                    <font size="18" color="black">
                        累计数：<lable id="calculateCount80">0</lable> <lable id="cooo"></lable>
                    </font> 
                </td>
               </tr>
              </table>
            </td>
          </tr>


          <tr> 
             <td colspan=4>　</td>
          </tr> 
          <tr style="display:none;"> 
             <td color="purple" colspan=4>
                 <input value="出题" type="button" style="font-size:70px; width:960; height:150; background-color:#B56037"  onclick="ShowQuestions();">
             </td>
          </tr> 

          <tr> 
             <td color="purple" colspan=4 style="width:960; height:120;background-color:#FF6600" onclick="ShowQuestions();">
                 <p align="center">
                 <lable style="font-size:78px;" id="ShowBottom">出题　</lable> 
             </td>
          </tr> 



          <tr> 
             <td colspan=4>　<lable style="font-size:78px;" id="showSelect">示例　</lable>  </td>
          </tr> 

          <tr> 
             <td colspan=4>　
                    <font size="18" color="black">
                        <lable id="ctotal"></lable>
                    </font> 
             </td>
          </tr> 


  </table>


</form>


</body>



</html>